input {
  tcp {
    port => <%= p('syslog.port') %>
    type => syslog
    add_field => [ "type", "syslog" ]
  }
  udp {
    port => <%= p('syslog.port') %>
    type => syslog
    add_field => [ "type", "syslog" ]
  }
}

output {
  # stdout { codec => json }

  redis {
    host => "<%= p("redis.host") %>"
    port => <%= p("redis.port") %>
    data_type => "list"
    key => "<%= p('logstash.redis.key') %>"
  }
}
